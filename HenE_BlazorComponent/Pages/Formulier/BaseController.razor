@page "/formulier"
@if (formulierElementenGroup != null)
{
    <div style="text-align:center">
        <h1>@formulier.Titel</h1>
    </div>

    <div class="container-fluid">
        @foreach (var formulierElenent in formulierElementenGroup)
        {
            <div>
                @foreach (var element in formulierElenent)
                {
                    <FormulierElement Section=element GridData="GridData"></FormulierElement>
                }

            </div>
        }
    </div>
}
else
{
    <h2>Loading...</h2>
}

@code {

    List<KinderFormulier> GridData = new List<KinderFormulier>();
    Controller controller = new Controller();
    Formulier formulier;
    dynamic formulierElementenGroup;

    protected override void OnInitialized()
    {
        formulier = controller.GetData("aangifteSchenkbelasting");
        formulierElementenGroup = formulier.Kinderen.GroupBy(G => G.Row).OrderBy(O => O.Key).ToArray();
        StateHasChanged();
    }
}